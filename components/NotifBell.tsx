'use client';import {useEffect,useState} from 'react';export default function NotifBell({userId}:{userId:string}){const[c,setC]=useState(0);async function load(){try{const r=await fetch(`/api/notifications/unread?user_id=${userId}`,{cache:'no-store'});const j=await r.json();if(!j.error)setC(j.unread||0);}catch{}}useEffect(()=>{load();const t=setInterval(load,15000);return()=>clearInterval(t)},[userId]);return(<a href='/notifications' style={{position:'relative',display:'inline-flex',alignItems:'center'}} aria-label='NotifikÃ¡cie'><svg width='22' height='22' viewBox='0 0 24 24' fill='none' stroke='currentColor'><path d='M15 17h5l-1.405-1.405A2.032 2.032 0 0 1 18 14.158V11a6 6 0 1 0-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5'/><path d='M13.73 21a2 2 0 0 1-3.46 0'/></svg>{c>0&&(<span style={{position:'absolute',top:-4,right:-6,background:'#F9BD4D',color:'#000',fontSize:12,fontWeight:800,borderRadius:999,minWidth:18,height:18,display:'grid',placeItems:'center',padding:'0 5px'}}>{c}</span>)}</a>)}