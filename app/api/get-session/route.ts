import {NextRequest,NextResponse} from 'next/server';import Stripe from 'stripe';const s=new Stripe(process.env.STRIPE_SECRET_KEY||'',{apiVersion:'2024-06-20'} as any);export async function GET(req:NextRequest){const id=new URL(req.url).searchParams.get('session_id');if(!id)return NextResponse.json({error:'Missing session_id'},{status:400});const ses=await s.checkout.sessions.retrieve(id);return NextResponse.json({session:ses})}