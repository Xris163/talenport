import { NextRequest } from 'next/server';import { createClient } from '@supabase/supabase-js';export async function GET(req:NextRequest){const path=new URL(req.url).searchParams.get('path');if(!path)return new Response('Missing path',{status:400});const sb=createClient(process.env.SUPABASE_URL as string, process.env.SUPABASE_SERVICE_KEY as string);const {data,error}=await sb.storage.from('resumes').createSignedUrl(path,60);if(error||!data?.signedUrl)return new Response(error?.message||'Cannot sign',{status:400});return new Response(null,{status:302,headers:{Location:data.signedUrl}})}